.TH mktemp 1
.SH Name
mktemp \- make a name for a temporary file
.SH Syntax
.B mktemp 
[
.B \-c
]
[
.B \-d
.I directory_name
] 
[
.B \-p
.I prefix
] 
.SH Description
The
.PN mktemp
command makes a name for the 
pathname of a temporary
file and writes that name to standard output. The name
will not duplicate that of an existing file. The
.PN mktemp
command does not create a new file. The file named must actually be
created before 
.PN mktemp
can generate a new filename.
.PP
Subsequent calls to
.PN mktemp
will only generate a new file name if all previously generated 
file names have been created by the user and still exist. 
Error messages are
written to standard error.
.PP
The 
.I directory_name 
generated by
.PN mktemp
is the concatenation of a directory name, a slash (/), a file prefix, a
dot (.), a four digit number and a unique character.
.PP
The directory name is chosen as follows:
.RS 3
.TP 5
(1) 
If the \fB\-d\fR option is specified, \fIdirectory_name\fR is used.
.TP
(2) 
Otherwise, if the TMPDIR environment variable is set and
a string that would yield a unique name can be obtained using the value
of that variable as a directory name, this value is used.
.TP
(3) 
Otherwise, 
.PN /tmp 
is used.
.RE
.PP
The 
.I prefix 
is chosen as follows:
.RS 3
.TP 5
(1) 
If the \fB\-p\fR option is specified, \fIprefix\fR is used.
.TP
(2) 
Otherwise, if the LOGNAME environment variable is set, it
is used as the 
.I prefix.
.TP
(3) 
Otherwise, the user's login name is used.
.RE
.SH Options
.IP \-c 12
Causes 
.PN mktemp 
to attempt to create a regular file using the generated
(or created) name string. If file creation is successful, 
a zero length file
is created with access permissions derived from the process's 
file mode creation mask, see 
.MS umask 2 .
No attempt is made to create a file if the length
of the generated (or created) name string exceeds 
1023 characters. It is the
user's responsibility to remove files created by use of this option.
.IP "\-d \fIdirectory_name\fP"
Causes \fIdirectory_name\fR to be used as the directory portion of the 
pathname. In this case, \fIdirectory_name\fR is used instead of
TMPDIR and 
.PN /tmp. 
.IP "\-p \fIprefix\fP"
Causes the string \fIprefix\fR to be used as the file's 
.I prefix. 
It is used
instead of LOGNAM and the user's login name. If the \fIprefix\fR
is longer the 249 characters, it will be silently truncated to 
that length before the concatenation of the suffix.
.SH Environmental Variables
.TP 12 
LOGNAME
When the \fB\-p\fI prefix\fR option is not specified, the value of this
variable is used as the 
.I prefix 
of the filename, if it exists.
.TP
TMPDIR
When the \fB\-d\fI directory_name\fR option is not specified, the value
of this variable is used instead of 
.PN /tmp .
.SH Restrictions
If the user does not have write permission in the directory specified,
and error message is reported and 
.PN /tmp
is used in its place. The
entire path name can not exceed 1023 characters, and the temporary file
name can not exceed 255 characters. If the generated file name is too
long it is truncated to fit before the suffix is added.
.SH See Also
.MS stat 2 ,
.MS umask 2 ,
.MS mktemp 3 
