.\" SCCSID: @(#)perror.3	8.2	1/28/91
.TH perror 3 
.SH Name
perror, strerror, sys_errlist, sys_nerr \- system error messages
.SH Syntax
.nf
.B void perror(\fIs)
.B char *\fIs;
.PP
.B int sys_nerr;
.B char *sys_errlist[];
.PP
.B #include <string.h>
.PP
.B char *strerror(\fIerr)
.B int \fIerr;
.fi
.SH Description
.NXR "perror subroutine (standard C)"
.NXR "sys_errlist subroutine"
.NXR "sys_nerr subroutine"
.NXR "error message (system)" "getting"
The
.PN perror
subroutine
produces a short error message on the standard error file
describing the last error encountered during a call
to the system from a C program.
First the argument string
.I s ,
if it is not a null pointer, is printed followed by a colon and a
space; then the message and a new line are printed.
Most usefully, the argument string is the name
of the program which incurred the error.
The error number is taken from the external variable
.I errno
which is set when errors occur but not cleared when
nonerroneous calls are made.
For further information, see 
.MS intro 2 .
.PP
To simplify variant
formatting of messages, the vector of message strings
.I sys_errlist
is provided;
.I errno
can be used as an index in this table to get the
message string without the new line.  The
.I sys_nerr
is the number of messages provided for in the table;
it should be checked
because new error codes may be added to the system before
they are added to the table.  The
.PN strerror
function will also return a pointer to the message text for a given
error number.
.SH See Also
intro(2), 
.MS errno 2 ,
psignal(3)
