.TH ms 7
.SH Name
ms \- text formatting macros
.SH Syntax
\fBnroff  \-ms\fP [\fIoptions\fB] \fIfile\fB  ...
.br
\fB*roff  \-ms\fP [\fIoptions\fB] \fIfile\fB  ...
.SH Description
.NXAM "*roff text processor" "ms macro package"
.NXAM "nroff text processor" "ms macro package"
.NXR "ms macro package"
.NXR "article" "formatting"
.NXR "thesis" "formatting"
.NXR "book" "formatting"
.NXR "formatting" "article"
.NXR "formatting" "thesis"
.NXR "formatting" "book"
This package of
.PN nroff
and
.PN *roff
macro definitions provides a formatting facility
for various styles of articles, theses, and books.
When producing 2-column output on a terminal or lineprinter,
or when reverse line motions are needed,
filter the output through 
.MS col 1 .
All external 
.PN \-ms 
macros are defined in the following section.
Many 
.PN nroff
and 
.PN *roff
requests are unsafe in conjunction with this package.
However, the first four requests in the list that follows can
be used with impunity after initialization,
and the last two may be used even before initialization:
.sp .2
.ta 5n 12n
.nf
	.bp	Begin new page
	.br	Break output line
	.sp n	Insert n spacing lines
	.ce n	Center next n lines
	.ls n	Line spacing: n=1 single, n=2 double space
	.na	No alignment of right margin
.fi
.sp .2
Font and point size changes with \ef and \es are also allowed;
for example, \efIword\efR italicize \fIword\fP.
Output of the 
.PN tbl ,
.PN *eqn ,
and 
.MS refer 1
preprocessors
for equations, tables, and references is acceptable as input.
.SH Requests
.NXR(t) "ms macro package" "requests"
.if n .in 0
.ds x \fIx\fP\|
.ds y \fIy\fP\|
.ds z \fI y\fP
.ds Y \fIx y\fP
.tr _.
.ta \w'MacroNam'u +\w'InitialVal'u +\w'Break? 'u
.sp .3
.nf
\fBMacro	Initial	Break?	\0 Explanation
Name	Value	Reset?\fR
.sp .3
_AB \*x	\-	y	Begin abstract; if \*x=no, do not label abstract.
_AE	\-	y	End abstract.
_AI	\-	y	Author's institution.
_AM	\-	n	Better accent mark definitions.
_AU	\-	y	Author's name.
_B \*x	\-	n	Embolden \*x; if no \*x, switch to boldface.
_B1	\-	y	Begin text to be enclosed in a box.
_B2	\-	y	End boxed text and print it.
_BT	date	n	Bottom title, printed at foot of page.
_BX \*x	\-	n	Print word \*x in a box.
_CM	if t	n	Cut mark between pages.
_CT	\-	y,y	Chapter title: page number moved to CF (TM only).
_DA \*x	if n	n	Force date \*x at bottom of page; today if no \*x.
_DE	\-	y	End display (unfilled text) of any kind.
_DS \*Y	I	y	Begin display with keep; \*x=I,L,C,B; \*y=indent .
_ID\*z	8n,.5i	y	Indented display with no keep; \*y=indent.
_LD	\-	y	Left display with no keep.
_CD	\-	y	Centered display with no keep.
_BD	\-	y	Block display; center entire block.
_EF \*x	\-	n	Even page footer \*x (3 part, as for .tl).
_EH \*x	\-	n	Even page header \*x (3 part, as for .tl).
_EN	\-	y	End displayed equation produced by \fI*eqn\fP.
_EQ \*Y	\-	y	Break out equation; \*x=L,I,C; \*y=equation number.
_FE	\-	n	End footnote to be placed at bottom of page.
_FP	\-	n	Numbered footnote paragraph; may be redefined.
_FS \*x	\-	n	Start footnote; \*x is optional footnote label.
_HD	undef	n	Optional page header below header margin.
_I \*x	\-	n	Italicize \*x; if no \*x, switch to italics.
_IP \*Y	\-	y,y	Indented paragraph, with hanging tag \*x; \*y=indent.
_IX \*Y	\-	y	Index words \*x, \*y and so on (up to five levels).
_KE	\-	n	End keep of any kind.
_KF	\-	n	Begin floating keep; text fills remainder of page.
_KS	\-	y	Begin keep; unit kept together on a single page.
_LG	\-	n	Larger; increase point size by 2.
_LP	\-	y,y	Left (block) paragraph..
_MC \*x	\-	y,y	Multiple columns; \*x=column width.
_ND \*x	if t	n	No date in page footer; \*x is date on cover.
_NH \*Y	\-	y,y	Numbered header; \*x=level, \*x=0 resets, \*x=S sets to \*y.
_NL	10p	n	Set point size back to normal.
_OF \*x	\-	n	Odd page footer \*x (3 part, as for .tl).
_OH \*x	\-	n	Odd page header \*x (3 part, as for .tl).
_P1	if TM	n	Print header on first page.
_PP	\-	y,y	Paragraph with first line indented.
_PT	- % -	n	Page title, printed at head of page.
_PX \*x	\-	y	Print index (table of contents); \*x=no, suppresses title.
_QP	\-	y,y	Quote paragraph (indented and shorter).
_R	on	n	Return to Roman font.
_RE	5n	y,y	Retreat: end level of relative indentation.
_RP \*x	\-	n	Released paper format; \*x=no, stops title on first page.
_RS	5n	y,y	Right shift: start level of relative indentation.
_SH	\-	y,y	Section header, in boldface.
_SM	\-	n	Smaller; decrease point size by two.
_TA	8n,5n	n	Set tabs to 8n 16n ... (nroff) 5n 10n ... (*roff).
_TC \*x	\-	y	Print table of contents at end; \*x=no, suppresses title.
_TE	\-	y	End of table processed by \fItbl\fP.
_TH	\-	y	End multipage header of table.
_TL	\-	y	Title in boldface and two points larger.
_TM	off	n	UC Berkeley thesis mode.
_TS \*x	\-	y,y	Begin table; if \*x=H, table has multipage header.
_UL \*x	\-	n	Underline \*x, even in \fI*roff\fP.
_UX \*x	\-	n	UNIX; trademark message first time; \*x appended.
_XA \*Y	\-	y	Another index entry; \*x=page or no for none; \*y=indent.
_XE	\-	y	End index entry (or series of .IX entries).
_XP	\-	y,y	Paragraph with first line exdented, others indented.
_XS \*Y	\-	y	Begin index entry; \*x=page or no for none; \*y=indent.
_1C	on	y,y	One-column format, on a new page.
_2C	\-	y,y	Begin two-column format.
_]-	\-	n	Beginning of \fIrefer\fP\| reference.
_[0	\-	n	End of unclassifiable type of reference.
_[N	\-	n	N= 1:journal-article, 2:book, 3:book-article, 4:report.
.fi
.DT
.SH Registers
.NXR "ms macro package" "number registers"
Formatting distances can be controlled in 
.PN \-ms
by means of built-in number registers.
For example, this sets the line length to 6.5 inches:
.sp .3
	.nr  LL  6.5i
.sp .3
Here is a table of number registers and their default values:
.sp .3
.nf
.ta .5i +\w'Name\0'u +\w'paragraph distance 'u +\w'Takes Effect 'u
	\fBName	Register Controls	Takes Effect	Default\fR
.sp .3
	PS	Point size      	paragraph	10
	VS	Vertical spacing	paragraph	12
	LL	Line length     	paragraph	6i
	LT	Title length    	next page	same as LL
	FL	Footnote length 	next .FS	5.5i
	PD	Paragraph distance	paragraph	1v (if n), .3v (if t)
	DD	Display distance	displays	1v (if n), .5v (if t)
	PI	Paragraph indent	paragraph	5n
	QI	Quote indent    	next .QP	5n
	FI	Footnote indent 	next .FS	2n
	PO	Page offset     	next page	0 (if n), \(ap1i (if t)
	HM	Header margin   	next page	1i
	FM	Footer margin   	next page	1i
	FF	Footnote format 	next .FS	0 (1, 2, 3 available)
.fi
.sp .3
When resetting these values,
make sure to specify the appropriate units.
Setting the line length to 7, for example,
results in output with one character per line.
Setting FF to 1 suppresses footnote superscripting;
setting it to 2 also suppresses indentation of the first line;
and setting it to 3 produces an .IP-like footnote paragraph.
.PP
Here is a list of string registers available in 
.PN \-ms ;
they can be used anywhere in the text:
.NXR "ms macro package" "string registers"
.sp .3
.nf
.ta .5i 1.1i
	\fBName	String's Function\fP
.sp .3
	\e*Q	Quote (" in \fInroff,\fP\| `` in \fI*roff\fP )
	\e*U 	Unquote (" in \fInroff,\fP\| '' in \fI*roff\fP )
	\e*\-	Dash (-- in \fInroff,\fP \(em in \fI*roff\fP )
	\e*(MO	Month (month of the year)
	\e*(DY	Day (current date)
	\e**	Automatically numbered footnote
	\e*\'	Acute accent (before letter)
	\e*\`	Grave accent (before letter)
	\e*\d^	\uCircumflex (before letter)
	\e*,	Cedilla (before letter)
	\e*:	Umlaut (before letter)
	\e*\d~	\uTilde (before letter)
.fi
.sp .3
When using the extended accent mark definitions available with .AM,
these strings should come after, rather than before,
the letter to be accented.
.SH Restrictions
.NXR "ms macro package" "floating keep restriction"
Floating keeps and regular keeps are diverted to the same space,
so they cannot be mixed together with predictable results.
.SH Files
.PN /usr/lib/tmac/tmac.s
.br
.PN /usr/lib/ms/s.???
.SH See Also
refer(1), tbl(1)
.tr
