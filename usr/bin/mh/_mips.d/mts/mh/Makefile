##############################################################################
#    Instructions to Make, for compilation of standalone-MTS library
#
#	This file is automatically generated.  Do not edit!
# @(#)$Id: mh,v 1.2 90/11/25 18:56:16 sharpe Exp $
##############################################################################

# The following entries were inserted during MH configuration
OPTIONS=	-DISI -DMHRC -DWHATNOW -DMHE -DBSD42 -DBERK -DNETWORK -DBIND -DRPATHS -DDPOP -DRPOP -DFOLDPROT='"0700"' -DMSGPROT='"0600"' -DTYPESIG='void' -DPOPSERVICE='"pop"' -DSPRINTF='int' -DSENDMTS -DSMTP -DPOP -DX400 -O -I..

CC	=	cc
CFLAGS	=	$(OPTIONS)
LINT	=	lint
LFLAGS	=	-bhu $(OPTIONS)
LLIBS	=	

LIB	=	mhmts.a

CFILES	=	hosts.c netmail.c uucp.c
OFILES	=	hosts.o netmail.o uucp.o


##############################################################################
#	Generation Rules
##############################################################################
.c.o:;		$(CC) $(CFLAGS) -c $*.c
		-ld -x -r $@
		mv a.out $@


##############################################################################
#	Here it is...
##############################################################################

all:		$(LIB)
depend:;
lint:		l-mhmts

$(LIB):		$(OFILES)
		-mv $@ z$@
		ar r $@ $(OFILES); ranlib $@
		-rm -f ../libmts.a
		ln $@ ../libmts.a
		-rm -f ../llib-lmts
		-ln llib-lmhmts ../llib-lmts
		-@ls -l $@
		-@echo "standalone-MTS library built normally"

l-mhmts:;	$(LINT) $(LFLAGS) $(CFILES) $(LLIBS)

hosts.o:	Makefile
netmail.o:	Makefile
uucp.o:		Makefile


##############################################################################
#	Miscellaneous tasks
##############################################################################

unconfig:	distribution
		-rm -f Makefile

distribution:   clean

clean:		unclean
		-rm -f *.o $(LIB) z$(LIB)

unclean:;	-rm -f _* :* core
